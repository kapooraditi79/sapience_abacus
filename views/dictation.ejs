<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Rapid Fire Dictation</title>
  <script defer>
    let customRate = 10; // Max reliable speed across browsers

    function updateRate(value) {
      customRate = parseFloat(value);
      document.getElementById("rateDisplay").textContent = value;
    }

    function speakNumbers() {
      speechSynthesis.cancel();

      const numbers = Array.from({ length: 10 }, () => Math.floor(Math.random() * 100));
      document.getElementById("output").textContent = `Numbers: ${numbers.join(', ')}`;

      // Create a single utterance
      const combined = numbers.join(', ');
      const msg = new SpeechSynthesisUtterance(combined);
      msg.rate = customRate;

      speechSynthesis.speak(msg);
    }
  </script>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="flex flex-col items-center justify-center min-h-screen bg-gray-100 gap-8 p-4">

  <h1 class="text-3xl font-bold text-center">Rapid Fire Dictation</h1>

  <!-- Rate Control -->
  <div class="flex flex-col items-center gap-2">
    <label for="rateSlider" class="font-semibold">Speech Rate: <span id="rateDisplay">10</span>x</label>
    <input id="rateSlider" type="range" min="0.5" max="10" step="0.5" value="10"
      oninput="updateRate(this.value)"
      class="w-64 accent-red-600" />
  </div>

  <!-- Button -->
  <button onclick="speakNumbers()" class="bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-xl shadow-md">
    ðŸ”¥ Speak All 10 Numbers (No Gaps)
  </button>

  <!-- Output -->
  <div id="output" class="text-xl text-gray-700 mt-4 font-mono text-center"></div>

</body>
</html>
